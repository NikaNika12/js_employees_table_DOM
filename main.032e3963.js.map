{"version":3,"sources":["scripts/main.js"],"names":["sortedList","headTable","document","querySelector","bodyTable","rows","addEventListener","e","rowsAll","header","target","closest","index","cellIndex","numberOptimizer","str","replace","sort","a","b","rowOne","cells","textContent","rowTwo","Number","isNaN","localeCompare","append","reverse","forEach","item","classList","remove","parentNode","toggle","form","createElement","className","innerHTML","body","pushNotification","title","description","type","messageBlock","messageTitle","messageDescription","setAttribute","add","setTimeout","preventDefault","data","FormData","dataObj","Object","fromEntries","entries","newRow","name","position","office","age","salary","toLocaleString","length","reset","textEvent","indexEvent","inputNew","locations","selectNew","place","city","focus","value","e1","key","blur"],"mappings":"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","file":"main.032e3963.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst headTable = document.querySelector('thead');\nconst bodyTable = document.querySelector('tbody');\nconst rows = [...bodyTable.rows];\nlet sortedList;\n\nheadTable.addEventListener('click', e => {\n  const rowsAll = [...bodyTable.rows];\n\n  const header = e.target.closest('th');\n  const index = header.cellIndex;\n\n  function numberOptimizer(str) {\n    return str.replace(/[$,]/g, '');\n  };\n\n  rows.sort((a, b) => {\n    const rowOne = numberOptimizer(a.cells[index].textContent);\n    const rowTwo = numberOptimizer(b.cells[index].textContent);\n\n    if (Number.isNaN(+rowOne)) {\n      return rowOne.localeCompare(rowTwo);\n    }\n\n    return +rowOne - Number(rowTwo);\n  });\n\n  if (sortedList !== header) {\n    bodyTable.append(...rowsAll);\n    sortedList = header;\n  } else {\n    bodyTable.append(...rowsAll.reverse());\n    sortedList = null;\n  }\n});\n\nbodyTable.addEventListener('click', e => {\n  rows.forEach(item => item.classList.remove('active'));\n  e.target.parentNode.classList.toggle('active');\n});\n\nconst form = document.createElement('form');\n\nform.className = 'new-employee-form';\n\nform.innerHTML = `\n  <label>\n    Name:\n      <input\n        name=\"name\"\n        type=\"text\"\n        data-qa=\"name\"\n        required\n      >\n  </label>\n  <label>\n    Position:\n      <input\n        name=\"position\"\n        type=\"text\"\n        data-qa=\"position\"\n        required\n      >\n  </label>\n  <label>\n    Office:\n      <select\n        name=\"office\"\n        data-qa=\"office\"\n        required\n      >\n        <option value=\"Tokyo\">\n          Tokyo\n        </option>\n        <option value=\"Singapore\">\n          Singapore\n        </option>\n        <option value=\"London\">\n          London\n        </option>\n        <option value=\"New York\">\n          New York\n        </option>\n        <option value=\"Edinburgh\">\n          Edinburgh\n        </option>\n        <option value=\"San Francisco\">\n          San Francisco\n        </option>\n    </select>\n  </label>\n  <label>\n    Age:\n      <input\n        name=\"age\"\n        type=\"number\"\n        data-qa=\"age\"\n        required\n      >\n  </label>\n  <label>\n    Salary:\n      <input\n        name=\"salary\"\n        type=\"number\"\n        data-qa=\"salary\"\n        required\n      >\n  </label>\n  <button type=\"submit\">Save to table</button>\n`;\n\ndocument.body.append(form);\n\nconst pushNotification = (title, description, type) => {\n  const messageBlock = document.createElement('div');\n  const messageTitle = document.createElement('h2');\n  const messageDescription = document.createElement('p');\n\n  messageBlock.setAttribute('data-qa', 'notification');\n  messageBlock.classList.add('notification', type);\n\n  messageTitle.className = 'title';\n  messageTitle.textContent = title;\n\n  messageDescription.className = 'description';\n  messageDescription.textContent = description;\n\n  messageBlock.append(messageTitle, messageDescription);\n  document.querySelector('body').append(messageBlock);\n\n  setTimeout(() => {\n    messageBlock.remove();\n  }, 5000\n  );\n};\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const data = new FormData(form);\n  const dataObj = Object.fromEntries(data.entries());\n\n  const newRow = document.createElement('tr');\n\n  newRow.innerHTML = `\n    <td>${dataObj.name}</td>\n    <td>${dataObj.position}</td>\n    <td>${dataObj.office}</td>\n    <td>${dataObj.age}</td>\n    <td>$${Number(dataObj.salary).toLocaleString('en-US')}</td>\n  `;\n\n  if (dataObj.name.length < 4) {\n    pushNotification(\n      'Error',\n      'Name must include at least 4 letters',\n      'error');\n  } else if (Number(dataObj.age) < 18 || Number(dataObj.age) > 90) {\n    pushNotification(\n      'Error',\n      'Age must be no less than 18 and no more than 90',\n      'error');\n  } else {\n    pushNotification(\n      'Success',\n      'Employee is successfully added to the table',\n      'success');\n\n    bodyTable.append(newRow);\n    form.reset();\n  }\n});\n\nbodyTable.addEventListener('dblclick', (e) => {\n  const target = e.target;\n\n  const textEvent = target.textContent;\n  const indexEvent = target.cellIndex;\n\n  target.textContent = '';\n\n  let inputNew = document.createElement('input');\n\n  inputNew.classList.add('cell-input');\n\n  if (indexEvent === 2) {\n    const selectNew = document.createElement('select');\n    const locations = [\n      `Tokyo`,\n      `Singapore`,\n      `London`,\n      `New York`,\n      `Edinburgh`,\n      `San Francisco`,\n    ];\n\n    for (const place of locations) {\n      const city = document.createElement('option');\n\n      city.textContent = place;\n      selectNew.append(city);\n    };\n\n    inputNew = selectNew;\n  }\n\n  target.append(inputNew);\n  inputNew.focus();\n\n  inputNew.addEventListener('blur', () => {\n    switch (indexEvent) {\n      case 0:\n        if (inputNew.value.length < 4) {\n          pushNotification('Erroe', 'Name must include at least 4 letters');\n          target.textContent = textEvent;\n        } else {\n          target.textContent = inputNew.value;\n        }\n\n        break;\n\n      case 1:\n        if (inputNew.value) {\n          target.textContent = inputNew.value;\n        } else {\n          target.textContent = textEvent;\n        }\n        break;\n\n      case 2:\n        if (inputNew.value) {\n          target.textContent = inputNew.value;\n        } else {\n          target.textContent = textEvent;\n        }\n        break;\n\n      case 3:\n        if (inputNew.value < 18 || inputNew.value > 90) {\n          pushNotification(\n            'Erroe', 'Age must be no less than 18 and no more than 90'\n          );\n          target.textContent = textEvent;\n        } else {\n          target.textContent = inputNew.value;\n        }\n        break;\n\n      case 4:\n        if (inputNew.value) {\n          target.textContent\n            = '$' + Number(inputNew.value).toLocaleString('en-US');\n        } else {\n          target.textContent = textEvent;\n        }\n        break;\n    }\n\n    inputNew.remove();\n  });\n\n  inputNew.addEventListener('keydown', e1 => {\n    if (e1.key === 'Enter') {\n      inputNew.blur();\n    }\n  });\n});\n"]}